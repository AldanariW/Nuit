function setTheme() {
    if(localStorage.getItem("theme")) {
        document.documentElement.setAttribute("data-theme", localStorage.getItem("theme"));
    }
}
setTheme();

$("body").append(`
    <div id="themeSwitchWrapper">
        <button class="themeSwitch" data-change-theme="null"><svg version="1.0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512.000000 512.000000"  preserveAspectRatio="xMidYMid meet">  <g transform="translate(0.000000,512.000000) scale(0.100000,-0.100000)" fill="#000000" stroke="none"> <path d="M2129 4647 c-100 -34 -174 -83 -274 -182 -229 -226 -442 -670 -555 -1160 -70 -299 -98 -513 -107 -811 -7 -228 3 -319 48 -459 57 -180 144 -318 291 -462 105 -102 174 -150 293 -203 92 -40 264 -90 310 -90 58 0 55 19 55 -376 0 -388 3 -419 48 -443 37 -20 86 -13 113 15 l24 26 3 384 3 384 22 4 c12 3 51 10 87 16 197 34 416 147 573 297 112 107 234 320 283 493 67 241 31 800 -80 1240 -135 533 -318 914 -551 1145 -147 147 -269 204 -430 204 -67 0 -107 -5 -156 -22z m309 -197 c82 -40 213 -168 287 -279 189 -287 342 -714 419 -1168 40 -238 50 -355 51 -578 0 -190 -2 -218 -23 -289 -73 -251 -227 -448 -446 -571 -73 -40 -220 -91 -293 -101 l-53 -7 0 69 0 68 180 182 c172 173 180 183 180 220 -1 42 -13 64 -47 82 -51 28 -71 17 -195 -105 l-118 -117 0 190 0 189 121 120 c126 125 149 157 149 200 0 38 -50 85 -90 85 -26 0 -46 -13 -105 -71 l-73 -71 -4 137 c-3 136 -3 137 -31 161 -30 26 -75 31 -109 13 -44 -24 -48 -57 -48 -421 l0 -342 -113 112 c-109 107 -116 112 -156 112 -54 0 -91 -36 -91 -88 0 -33 15 -50 180 -217 l180 -181 0 -163 0 -164 -52 7 c-74 10 -221 61 -295 102 -213 119 -381 335 -445 574 -21 76 -23 106 -22 290 3 721 257 1538 587 1887 161 170 312 212 475 133z"/></g></svg></button>
        <button class="themeSwitch" data-change-theme="aqua"><svg version="1.0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512.000000 512.000000" preserveAspectRatio="xMidYMid meet">  <g transform="translate(0.000000,512.000000) scale(0.100000,-0.100000)" fill="#000000" stroke="none"> <path d="M2509 5105 c-19 -10 -150 -216 -440 -687 -1194 -1947 -1132 -1840 -1202 -2048 -221 -649 -53 -1365 435 -1850 230 -229 506 -384 827 -464 156 -39 246 -50 431 -50 96 0 211 6 255 13 527 83 963 364 1250 805 108 165 209 412 249 606 78 384 24 802 -149 1150 -43 87 -670 1124 -723 1196 -41 55 -109 59 -159 9 -31 -31 -35 -40 -30 -74 3 -28 96 -187 333 -572 180 -294 353 -584 383 -644 186 -368 220 -790 94 -1179 -81 -251 -197 -443 -381 -629 -246 -250 -553 -405 -905 -457 -101 -15 -333 -15 -434 0 -479 71 -888 342 -1138 755 -273 451 -296 1024 -60 1499 49 99 1404 2316 1415 2316 3 0 85 -129 182 -288 97 -158 188 -298 202 -311 61 -58 167 -10 169 75 1 34 -30 90 -237 427 -244 397 -260 418 -318 417 -13 -1 -35 -7 -49 -15z"/> <path d="M3112 4085 c-60 -50 -47 -142 24 -171 47 -20 87 -10 120 29 22 26 25 38 21 76 -10 86 -99 122 -165 66z"/></g></svg></button>
        <button class="themeSwitch" data-change-theme="desert"><svg version="1.0" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 360.000000 360.000000"  preserveAspectRatio="xMidYMid meet"><g transform="translate(0.000000,360.000000) scale(0.100000,-0.100000)" fill="#000000" stroke="none"> <path d="M2861 3409 c-133 -26 -266 -130 -329 -257 -33 -68 -37 -84 -40 -173 -5 -125 18 -210 81 -296 161 -218 458 -257 671 -90 61 49 124 141 147 219 32 105 25 239 -18 331 -91 194 -307 306 -512 266z m226 -175 c67 -32 137 -110 159 -176 23 -69 16 -187 -15 -247 -117 -226 -442 -228 -558 -2 -28 54 -33 73 -33 135 0 91 21 153 71 210 100 113 246 144 376 80z"/> <path d="M1690 2617 c-14 -6 -34 -30 -44 -53 l-19 -40 -60 24 c-253 102 -550 -58 -608 -330 -8 -35 -10 -108 -6 -216 l6 -163 -87 3 -87 3 -5 150 c-4 126 -8 157 -26 192 l-21 42 24 50 c29 58 23 97 -20 121 -35 20 -76 4 -105 -41 l-23 -35 -49 10 c-104 21 -214 -30 -275 -129 l-30 -48 -5 -206 -5 -205 -58 -17 c-62 -18 -86 -40 -87 -76 -1 -57 43 -87 106 -73 59 14 61 13 84 -36 31 -62 118 -154 177 -187 86 -46 151 -57 339 -57 l171 0 7 -77 c3 -42 6 -98 6 -125 l0 -48 -45 0 c-83 0 -123 -73 -70 -125 19 -20 34 -25 75 -25 l50 0 2 -100 c1 -55 2 -110 2 -122 1 -17 -5 -24 -24 -26 -53 -6 -87 -23 -99 -48 -16 -35 -14 -47 10 -78 17 -22 29 -26 68 -26 l48 0 7 -40 6 -40 75 0 74 0 -5 68 c-13 181 -65 1605 -61 1663 5 81 43 156 102 205 35 28 101 64 120 64 3 0 5 -199 5 -443 l0 -444 23 -21 c31 -29 72 -28 102 3 l25 24 0 441 c0 242 2 440 5 440 3 0 25 -9 48 -21 53 -27 113 -83 137 -129 41 -81 41 -74 5 -969 -19 -470 -35 -860 -35 -868 0 -10 19 -13 74 -13 l74 0 7 140 7 140 134 0 c73 0 157 5 186 11 55 12 145 54 187 87 24 19 25 19 83 -2 53 -19 60 -20 85 -6 33 19 49 63 34 96 -6 13 -27 32 -46 41 -29 14 -35 21 -30 38 29 91 35 143 35 312 l0 181 41 7 c56 10 81 36 77 82 -2 25 -11 42 -30 56 -24 18 -31 19 -73 8 -44 -11 -49 -10 -62 9 -93 133 -282 156 -398 49 -75 -70 -89 -111 -93 -281 l-4 -148 -55 0 -54 0 5 68 c3 37 11 204 17 372 5 168 12 310 14 316 2 6 31 14 65 17 75 6 100 26 100 77 0 54 -26 73 -102 74 l-62 1 -9 48 c-8 48 -41 130 -73 179 -17 26 -17 30 -1 81 22 68 21 100 0 125 -24 27 -53 34 -83 19z m-1126 -442 c55 -26 61 -45 66 -215 4 -137 8 -159 27 -190 37 -60 73 -74 198 -80 l110 -5 3 -118 3 -119 -183 4 c-204 5 -228 11 -300 76 -23 20 -52 60 -64 87 -23 48 -24 60 -24 273 0 246 3 261 65 288 40 17 60 17 99 -1z m1720 -624 l31 -31 0 -228 c0 -257 -6 -282 -80 -357 -67 -66 -110 -79 -277 -83 l-148 -4 0 99 c0 145 -3 140 90 145 84 3 113 17 154 72 19 24 22 46 26 184 6 171 11 190 63 223 45 28 101 20 141 -20z"/> <path d="M1356 1309 l-26 -20 0 -435 0 -434 75 0 76 0 -3 436 -3 436 -24 19 c-30 25 -62 24 -95 -2z"/> </g> </svg> </button>
        <button class="themeSwitch" data-change-theme="noel"><svg version="1.0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512.000000 512.000000"  preserveAspectRatio="xMidYMid meet"> <g transform="translate(0.000000,512.000000) scale(0.100000,-0.100000)" fill="#000000" stroke="none"> <path d="M2422 4953 l-129 -158 -169 -64 c-93 -36 -179 -69 -190 -75 -21 -11 -18 -18 91 -186 l112 -174 6 -128 6 -128 -713 -1678 -714 -1677 649 -3 649 -2 0 -340 0 -340 535 0 535 0 0 340 0 340 654 2 654 3 -714 1677 -713 1678 6 128 6 127 112 175 c62 96 108 178 103 181 -6 4 -91 37 -190 75 l-180 69 -130 158 c-71 86 -133 157 -138 157 -5 0 -67 -71 -138 -157z m184 -361 c29 -33 56 -52 92 -66 29 -10 52 -23 52 -30 0 -6 -12 -29 -27 -51 -19 -28 -29 -59 -34 -103 -4 -35 -8 -65 -11 -67 -2 -2 -30 3 -62 11 -52 14 -63 13 -113 -1 -30 -9 -57 -14 -60 -11 -3 3 -8 33 -12 68 -5 44 -15 75 -34 103 -15 22 -27 45 -27 52 0 6 23 19 50 28 37 12 62 30 93 66 23 27 44 49 47 49 3 0 23 -21 46 -48z m41 -625 c34 -12 38 -19 155 -296 l121 -285 -18 -32 c-45 -84 -184 -194 -298 -235 -56 -20 -85 -23 -300 -27 l-237 -4 33 79 c19 43 101 236 182 428 82 193 151 354 155 358 4 5 29 15 56 22 51 14 92 12 151 -8z m562 -1253 c78 -183 141 -335 141 -338 0 -4 -242 -5 -537 -4 -533 4 -539 4 -600 27 -115 42 -225 125 -287 214 l-36 53 26 61 27 61 316 5 c290 3 322 5 391 26 139 41 314 141 384 220 11 12 23 18 27 14 4 -5 71 -157 148 -339z m-1413 -405 c76 -81 227 -166 375 -211 72 -22 87 -22 693 -28 l620 -5 34 -78 33 -79 -33 -55 c-45 -76 -145 -166 -230 -209 -128 -64 -115 -64 -1031 -64 l-827 0 15 38 c103 248 309 722 314 722 4 0 20 -14 37 -31z m2019 -1019 c65 -151 120 -283 122 -292 5 -17 -65 -18 -1376 -18 -759 0 -1381 3 -1381 8 0 4 27 70 59 147 l60 140 938 5 938 5 90 28 c50 15 122 44 160 63 77 39 203 131 238 174 12 15 25 25 29 21 3 -3 59 -130 123 -281z m-1025 -800 l0 -190 -235 0 -235 0 0 190 0 190 235 0 235 0 0 -190z"/> </g> </svg> <img src="https://raw.githubusercontent.com/Angus-Paillaugue/Nuit/main/frontend/src/patrick.webp" alt="Patoche" /></button>
    </div>
`);

function getRandomTime() {
    return (Math.random() * (15 - 5) + 5) * 1000;
}

$(".themeSwitch").click(function() {
    document.documentElement.setAttribute("data-theme", $(this).data("change-theme"));
    localStorage.setItem("theme", $(this).data("change-theme"));
    setTheme()
});

const showPatoche = () => {
    $("#themeSwitchWrapper > button").addClass("show");
    setTimeout(() => {
        $("#themeSwitchWrapper > button").removeClass("show");
        setTimeout(showPatoche, getRandomTime());
    }, 1000);
}

setTimeout(showPatoche, getRandomTime());

$(".themeSwitch > img").dblclick(() => {
    $("body").append(`<img src="https://raw.githubusercontent.com/Angus-Paillaugue/Nuit/main/frontend/src/charlie.png" id="charlie" />`);
    setTimeout(() => {
        $("#charlie").remove();
    }, 3000);
});